webpackJsonp([1],{"1zTr":function(e,t){},"2MlE":function(e,t){},"8LSn":function(e,t){},"A/ko":function(e,t,a){e.exports=a.p+"static/img/5.4fccad3.jpg"},DDw3:function(e,t){},KEbn:function(e,t){},Kv2V:function(e,t,a){e.exports=a.p+"static/img/youzhengLogo.771c17f.png"},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("7+uW"),i={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var l=a("VU/8")({name:"App"},i,!1,function(e){a("h5Cy")},null,null).exports,n=a("zL8q"),s=a.n(n),o=(a("tvR6"),a("/ocq")),c=a("mvHQ"),u=a.n(c),d=a("RRo+"),p=a.n(d),v={name:"Login",data:function(){var e=this;return{registerdialog:!1,loading:!1,loginA:!0,user:{username:"",sex:null,account:"",password:"",checkpass:"",phone:"",email:"",fkRoleid:"",checktime:"",isdelete:"",altertime:""},rules:{username:[{validator:function(e,t,a){t||a(new Error("请输入昵称")),a()},trigger:"blur"}],account:[{validator:function(t,a,r){a?e.getRequest("/account?account="+a).then(function(e){1==e?r(new Error("账号已存在")):r()}):r(new Error("请输入账号"))},trigger:"blur"}],password:[{validator:function(t,a,r){""===a?r(new Error("请输入密码")):(""!==e.user.checkpass&&e.$refs.user.validateField("checkpass"),r())},trigger:"blur"}],checkpass:[{validator:function(t,a,r){""===a?r(new Error("请再次输入密码")):a!==e.user.password?r(new Error("两次输入密码不一致!")):r()},trigger:"blur"}],phone:[{validator:function(e,t,a){var r=/^1[3|4|5|7|8][0-9]{9}$/;if(!t)return a(new Error("电话号码不能为空"));setTimeout(function(){p()(+t)?r.test(t)?a():a(new Error("电话号码格式不正确")):a(new Error("请输入数字值"))},100)},trigger:"blur"}],fk_roleid:[{required:!0,validator:function(e,t,a){t||a(new Error("请选择一个部门")),a()},trigger:"change"}],email:[{validator:function(e,t,a){var r=/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+/;if(!t)return a(new Error("邮箱不能为空"));setTimeout(function(){r.test(t)?a():a(new Error("请输入正确的邮箱格式"))},100)},trigger:"blur"}]},options:[{value:"1",label:"承运部"},{value:"2",label:"调度部"},{value:"3",label:"财务人员"},{value:"4",label:"运输管理员"},{value:"5",label:"系统管理员"}],value:""}},created:function(){this.keyupSubmit()},methods:{keyupSubmit:function(){var e=this;document.onkeydown=function(t){13===window.event.keyCode&&e.doLogin()}},doLogin:function(){var e=this;this.loading=!0,this.postRequest("/doLogin",this.user).then(function(t){t&&(window.sessionStorage.setItem("user",u()(t.obj)),e.loading=!1,e.$router.replace("/home")),e.loading=!1})},registerUser:function(){this.registerdialog=!0},addUser:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return alert("请按规则填写表单!!"),!1;t.postRequest("/register",t.user).then(function(e){t.registerdialog=!1})})},resetForm:function(e){this.$refs[e].resetFields()}}},m={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{display:"flex","justify-content":"center","margin-top":"150px"}},[a("el-card",{staticClass:"box-card",staticStyle:{width:"350px"},attrs:{shadow:"always"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("登录")])]),e._v(" "),a("table",[a("tr",[a("td",[e._v(" 账号：")]),e._v(" "),a("td",[a("el-input",{attrs:{placeholder:"请输入账号"},model:{value:e.user.account,callback:function(t){e.$set(e.user,"account",t)},expression:"user.account"}})],1)]),e._v(" "),a("tr",[a("td",[e._v("密码：")]),e._v(" "),a("td",[a("el-input",{attrs:{type:"password",placeholder:"请输入密码"},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}})],1)]),e._v(" "),a("tr",[a("td",{attrs:{colspan:"2"}},[a("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"300px"},attrs:{type:"primary"},on:{click:e.doLogin}},[e._v("登录")])],1)]),e._v(" "),a("tr",[a("td",{attrs:{colspan:"2"}},[a("el-button",{staticStyle:{width:"300px"},attrs:{type:"info"},on:{click:e.registerUser}},[e._v("注册")])],1)])]),e._v(" "),a("div",[a("el-dialog",{attrs:{title:"注册新用户",visible:e.registerdialog,width:"50%"},on:{"update:visible":function(t){e.registerdialog=t}}},[a("div",[a("el-form",{ref:"user",staticClass:"demo-ruleForm",attrs:{model:e.user,"status-icon":"",rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"昵称",prop:"username"}},[a("el-input",{attrs:{autocomplete:"on"},model:{value:e.user.username,callback:function(t){e.$set(e.user,"username",t)},expression:"user.username"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"性别",prop:"username"}},[a("el-radio-group",{model:{value:e.user.sex,callback:function(t){e.$set(e.user,"sex",t)},expression:"user.sex"}},[a("el-radio",{attrs:{label:1}},[e._v("男")]),e._v(" "),a("el-radio",{attrs:{label:0}},[e._v("女")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"账号",prop:"account"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.user.account,callback:function(t){e.$set(e.user,"account",t)},expression:"user.account"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"密码",prop:"password"}},[a("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"确认密码",prop:"checkpass"}},[a("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.user.checkpass,callback:function(t){e.$set(e.user,"checkpass",t)},expression:"user.checkpass"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"手机号码",prop:"phone"}},[a("el-input",{attrs:{autocomplete:"on"},model:{value:e.user.phone,callback:function(t){e.$set(e.user,"phone",e._n(t))},expression:"user.phone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"邮箱地址",prop:"email"}},[a("el-input",{attrs:{type:"email",autocomplete:"on"},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"所属部门",prop:"fkRoleid"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.user.fkRoleid,callback:function(t){e.$set(e.user,"fkRoleid",t)},expression:"user.fkRoleid"}},e._l(e.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.addUser("user")}}},[e._v("提交")]),e._v(" "),a("el-button",{on:{click:function(t){return e.resetForm("user")}}},[e._v("重置")])],1)],1)],1)])],1)])],1)},staticRenderFns:[]},h=a("VU/8")(v,m,!1,null,null,null).exports,f={name:"ModelLogin",data:function(){var e=this;return{registerdialog:!1,loading:!1,loginA:!0,user:{username:"",sex:"",account:"",password:"",checkpass:"",phone:"",email:"",fkRoleid:"",checktime:"",isdelete:"",altertime:""},rules:{username:[{validator:function(e,t,a){t||a(new Error("请输入昵称")),a()},trigger:"blur"}],account:[{validator:function(t,a,r){a?e.getRequest("/account?account="+a).then(function(e){1==e?r(new error("账号已存在")):r()}):r(new Error("请输入账号"))},trigger:"blur"}],password:[{validator:function(t,a,r){""===a?r(new Error("请输入密码")):(""!==e.user.checkpass&&e.$refs.user.validateField("checkpass"),r())},trigger:"blur"}],checkpass:[{validator:function(t,a,r){""===a?r(new Error("请再次输入密码")):a!==e.user.password?r(new Error("两次输入密码不一致!")):r()},trigger:"blur"}],phone:[{validator:function(e,t,a){var r=/^1[3|4|5|7|8][0-9]{9}$/;if(!t)return a(new Error("电话号码不能为空"));setTimeout(function(){p()(+t)?r.test(t)?a():a(new Error("电话号码格式不正确")):a(new Error("请输入数字值"))},100)},trigger:"blur"}],fk_roleid:[{required:!0,validator:function(e,t,a){t||a(new Error("请选择一个部门")),a()},trigger:"change"}],email:[{validator:function(e,t,a){var r=/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+/;if(!t)return a(new Error("邮箱不能为空"));setTimeout(function(){r.test(t)?a():a(new Error("请输入正确的邮箱格式"))},100)},trigger:"blur"}]},options:[{value:"1",label:"承运部"},{value:"2",label:"调度部"},{value:"3",label:"财务人员"},{value:"4",label:"运输管理员"},{value:"5",label:"系统管理员"}],value:""}},created:function(){this.keyupSubmit()},methods:{keyupSubmit:function(){var e=this;document.onkeydown=function(t){13===window.event.keyCode&&e.doLogin()}},doLogin:function(){var e=this;this.loading=!0,this.postRequest("/doLogin",this.user).then(function(t){t&&(window.sessionStorage.setItem("user",u()(t.obj)),e.loading=!1,e.loginA=!1,e.$router.replace("/home"),window.location.reload()),e.loading=!1})},registerUser:function(){this.registerdialog=!0},addUser:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return alert("请按规则填写表单!!"),!1;t.postRequest("/register",t.user).then(function(e){t.registerdialog=!1})})},resetForm:function(e){this.$refs[e].resetFields()}}},b={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{title:"登录",visible:e.loginA,"close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1,width:"350px"},on:{"update:visible":function(t){e.loginA=t}}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("登录")])]),e._v(" "),a("table",[a("tr",[a("td",[e._v(" 账号：")]),e._v(" "),a("td",[a("el-input",{attrs:{placeholder:"请输入账号"},model:{value:e.user.account,callback:function(t){e.$set(e.user,"account",t)},expression:"user.account"}})],1)]),e._v(" "),a("tr",[a("td",[e._v("密码：")]),e._v(" "),a("td",[a("el-input",{attrs:{type:"password",placeholder:"请输入密码"},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}})],1)]),e._v(" "),a("tr",[a("td",{attrs:{colspan:"2"}},[a("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"300px"},attrs:{type:"primary"},on:{click:e.doLogin},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.doLogin(t)}}},[e._v("登录")])],1)]),e._v(" "),a("tr",[a("td",{attrs:{colspan:"2"}},[a("el-button",{staticStyle:{width:"300px"},attrs:{type:"info"},on:{click:e.registerUser}},[e._v("注册")])],1)])])]),e._v(" "),a("div",[a("el-dialog",{attrs:{title:"注册新用户",visible:e.registerdialog,"close-on-click-modal":!1,"close-on-press-escape":!1,width:"50%"},on:{"update:visible":function(t){e.registerdialog=t}}},[a("div",[a("el-form",{ref:"user",staticClass:"demo-ruleForm",attrs:{model:e.user,"status-icon":"",rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"昵称",prop:"username"}},[a("el-input",{attrs:{autocomplete:"on"},model:{value:e.user.username,callback:function(t){e.$set(e.user,"username",t)},expression:"user.username"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"性别",prop:"username"}},[a("el-radio-group",{model:{value:e.user.sex,callback:function(t){e.$set(e.user,"sex",t)},expression:"user.sex"}},[a("el-radio",{attrs:{label:1}},[e._v("男")]),e._v(" "),a("el-radio",{attrs:{label:0}},[e._v("女")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"账号",prop:"account"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.user.account,callback:function(t){e.$set(e.user,"account",t)},expression:"user.account"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"密码",prop:"password"}},[a("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"确认密码",prop:"checkpass"}},[a("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.user.checkpass,callback:function(t){e.$set(e.user,"checkpass",t)},expression:"user.checkpass"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"手机号码",prop:"phone"}},[a("el-input",{attrs:{autocomplete:"on"},model:{value:e.user.phone,callback:function(t){e.$set(e.user,"phone",e._n(t))},expression:"user.phone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"邮箱地址",prop:"email"}},[a("el-input",{attrs:{type:"email",autocomplete:"on"},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"所属部门",prop:"fkRoleid"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.user.fkRoleid,callback:function(t){e.$set(e.user,"fkRoleid",t)},expression:"user.fkRoleid"}},e._l(e.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.addUser("user")}}},[e._v("提交")]),e._v(" "),a("el-button",{on:{click:function(t){return e.resetForm("user")}}},[e._v("重置")])],1)],1)],1)])],1)],1)},staticRenderFns:[]};var g={name:"Home",data:function(){return{imgList:[{id:0,idView:a("zRwx")},{id:1,idView:a("i/H9")},{id:2,idView:a("m4mq")},{id:3,idView:a("dGPU")},{id:4,idView:a("A/ko")}],loginagain:!1,user:JSON.parse(window.sessionStorage.getItem("user"))}},methods:{command:function(e){var t=this;"relogin"==e&&this.$confirm("确认注销并重新登录?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.loginagain=!0;window.sessionStorage.clear();t.$message({type:"success",message:"注销成功,请重新登录!"})}),"usercenter"==e&&this.$router.push("UserInfo"),"logout"==e&&this.logOFF()},again:function(){},logOFF:function(){var e=this;this.$confirm("确认退出并返回到登录页面?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$router.replace("/");window.sessionStorage.clear();e.$message({type:"success",message:"退出成功!"})})}},components:{ModelLogin:a("VU/8")(f,b,!1,function(e){a("8LSn")},"data-v-15e0d335",null).exports}},_={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-container",[r("el-header",{staticStyle:{display:"flex","justify-content":"space-between","align-items":"center",height:"100px"}},[r("div",{staticStyle:{"font-family":"华文行楷","font-size":"30px"}},[r("img",{attrs:{src:a("Kv2V")}})]),e._v(" "),r("div",[r("el-dropdown",{staticStyle:{cursor:"pointer",color:"#000000"},on:{command:e.command}},[r("span",{staticClass:"el-dropdown-link"},[e._v("\n  "+e._s(e.user.username)+","+e._s(e.user.role.rolename)),r("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e._v(" "),r("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[r("el-dropdown-item",{attrs:{command:"setting"}},[e._v("设置")]),e._v(" "),r("el-dropdown-item",{attrs:{command:"usercenter"}},[e._v("个人中心")]),e._v(" "),r("el-dropdown-item",{attrs:{command:"relogin",divided:""}},[e._v("重新登录")]),e._v(" "),r("el-dropdown-item",{attrs:{command:"logout",divided:""}},[e._v("退出登录")])],1)],1)],1)]),e._v(" "),r("el-container",{staticStyle:{height:"1080px"}},[r("el-aside",{attrs:{width:"200px"}},[r("el-menu",{staticStyle:{height:"100%"},attrs:{"unique-opened":!0,router:""}},e._l(this.$router.options.routes,function(t,a){return t.hidden||-1==t.meta.role.indexOf(e.user.role.rolename)?e._e():r("el-submenu",{key:a,attrs:{index:a+""}},[r("template",{slot:"title"},[r("i",{staticClass:"el-icon-location"}),e._v(" "),r("span",[e._v(e._s(t.name))])]),e._v(" "),e._l(t.children,function(t,a){return r("el-menu-item",{key:a,attrs:{index:t.path}},[e._v(e._s(t.name)+"\n            ")])})],2)}),1)],1),e._v(" "),r("el-main",["/home"!=this.$router.currentRoute.path?r("el-breadcrumb",{attrs:{separator:"/"}},[r("el-breadcrumb-item",{attrs:{to:{path:"/home"}}},[e._v("首页")]),e._v(" "),r("el-breadcrumb-item",[r("a",{attrs:{href:"/"}},[e._v(e._s(this.$router.currentRoute.name))])])],1):e._e(),e._v(" "),"/home"==this.$router.currentRoute.path?r("div",{staticStyle:{"font-size":"40px","font-family":"华文仿宋",color:"#000000","text-align":"center"}},[[r("el-carousel",{staticClass:"d_jump",attrs:{interval:3e3,arrow:"always",height:"510px"}},e._l(e.imgList,function(e){return r("el-carousel-item",{key:e.id},[r("el-row",[r("el-col",{attrs:{span:24}},[r("img",{ref:"imgHeight",refInFor:!0,staticClass:"banner_img",attrs:{src:e.idView}})])],1)],1)}),1)]],2):e._e(),e._v(" "),r("router-view")],1)],1)],1),e._v(" "),r("div",[e.loginagain?r("ModelLogin"):e._e()],1)],1)},staticRenderFns:[]};var k=a("VU/8")(g,_,!1,function(e){a("gOZA")},"data-v-7fa1171a",null).exports,y={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticStyle:{"margin-top":"5px"}},[a("el-button",{staticStyle:{"background-color":"#009966",color:"#ffffff"},attrs:{icon:"el-icon-plus",size:"small"},on:{click:e.showAddView}},[e._v("添加车辆信息")]),e._v(" "),a("el-date-picker",{attrs:{type:"daterange","value-format":"yyyy-MM-dd","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.daterange,callback:function(t){e.daterange=t},expression:"daterange"}}),e._v(" "),a("el-button",{staticStyle:{"background-color":"#009966",color:"#ffffff"},attrs:{icon:"el-icon-search",size:"small"},on:{click:e.initTrucks}},[e._v("搜索")]),e._v(" "),a("el-select",{attrs:{placeholder:"请选择"},on:{change:e.initTrucks},model:{value:e.trucktype,callback:function(t){e.trucktype=t},expression:"trucktype"}},e._l(e.types,function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})}),1)],1),e._v(" "),a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.trucks,stripe:""}},[a("el-table-column",{attrs:{prop:"truckid",label:"车辆编号",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{prop:"number",label:"车牌号",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{prop:"buydate",label:"购买日期",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{prop:"type",label:"车辆类型",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{prop:"length",label:"入队时长",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{prop:"tonnage",label:"车辆吨位",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{prop:"truckteam.teamname",label:"所属车队",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{label:"车辆状态",width:"auto"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(1==t.row.state?"承运中":"空闲")+"\n        ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"checkintime",label:"入队时间",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{prop:"remark",label:"备注信息",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{prop:"remark",label:"操作",width:"200px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticStyle:{"background-color":"#009966",color:"#ffffff"},attrs:{type:"info",size:"mini",icon:"el-icon-edit"},on:{click:function(a){return e.updateTruck(t.$index,t.row)}}},[e._v("修改\n          ")]),e._v(" "),a("el-button",{attrs:{type:"info",size:"mini",icon:"el-icon-delete"},on:{click:function(a){return e.deleteTruck(t)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("div",[a("el-pagination",{staticStyle:{display:"flex","justify-content":"flex-end","margin-right":"10px"},attrs:{"current-page":e.currentPage,"page-size":e.pageSize,"page-sizes":[5,10,15,20],layout:"sizes,prev,pager,next,jumper,->,total,slot",total:e.total},on:{"current-change":e.currentChange,"size-change":e.sizeChange}})],1)],1),e._v(" "),a("el-dialog",{attrs:{title:e.dialogtitle,visible:e.dialogVisible,"close-on-click-modal":!1,width:"50%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",[a("table",[a("tr",[a("td",[a("el-tag",[e._v("车牌号")])],1),e._v(" "),a("td",[a("el-input",{model:{value:e.truck.number,callback:function(t){e.$set(e.truck,"number",t)},expression:"truck.number"}})],1),e._v(" "),a("td",[a("el-tag",[e._v("购买日期")])],1),e._v(" "),a("td",[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",type:"date",placeholder:"选择日期"},model:{value:e.truck.buydate,callback:function(t){e.$set(e.truck,"buydate",t)},expression:"truck.buydate"}})],1)]),e._v(" "),a("tr",[a("td",[a("el-tag",[e._v("车辆类型")])],1),e._v(" "),a("td",[a("el-input",{model:{value:e.truck.type,callback:function(t){e.$set(e.truck,"type",t)},expression:"truck.type"}})],1),e._v(" "),a("td",[a("el-tag",[e._v("入队时长")])],1),e._v(" "),a("td",[a("el-input",{model:{value:e.truck.length,callback:function(t){e.$set(e.truck,"length",t)},expression:"truck.length"}})],1)]),e._v(" "),a("tr",[a("td",[a("el-tag",[e._v("车辆吨位")])],1),e._v(" "),a("td",[a("el-input",{model:{value:e.truck.tonnage,callback:function(t){e.$set(e.truck,"tonnage",t)},expression:"truck.tonnage"}})],1),e._v(" "),a("td",[a("el-tag",[e._v("所属车队")])],1),e._v(" "),a("td",[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.truck.fkTeamid,callback:function(t){e.$set(e.truck,"fkTeamid",t)},expression:"truck.fkTeamid"}},e._l(e.teams,function(e){return a("el-option",{key:e.teamid,attrs:{label:e.teamname,value:e.teamid}})}),1)],1)]),e._v(" "),a("tr",[a("td",[a("el-tag",[e._v("车辆状态")])],1),e._v(" "),a("td",[a("el-radio-group",{model:{value:e.truck.state,callback:function(t){e.$set(e.truck,"state",t)},expression:"truck.state"}},[a("el-radio",{attrs:{label:1}},[e._v("承运中")]),e._v(" "),a("el-radio",{attrs:{label:2}},[e._v("空闲")])],1)],1),e._v(" "),a("td",[a("el-tag",[e._v("加入时间")])],1),e._v(" "),a("td",[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",type:"date",placeholder:"选择日期"},model:{value:e.truck.checkintime,callback:function(t){e.$set(e.truck,"checkintime",t)},expression:"truck.checkintime"}})],1)]),e._v(" "),a("tr",[a("td",[a("el-tag",[e._v("备注")])],1),e._v(" "),a("td",{attrs:{colspan:"3"}},[a("el-input",{attrs:{type:"textarea",rows:5,placeholder:"请输入内容"},model:{value:e.truck.remark,callback:function(t){e.$set(e.truck,"remark",t)},expression:"truck.remark"}})],1)])])]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"info"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{staticStyle:{"background-color":"#009966",color:"#ffffff"},attrs:{type:"primary"},on:{click:e.addTruck}},[e._v("确 定")])],1)])],1)},staticRenderFns:[]};var w=a("VU/8")({name:"TruckMana",data:function(){return{teams:[],numbers:[],dialogVisible:!1,loading:!0,dialogtitle:"",dialogTruck:"",daterange:null,trucktype:"全部",types:[],trucks:[],total:0,pageSize:5,currentPage:1,truck:{truckid:"",number:"",buydate:null,type:"",length:"",tonnage:null,fkTeamid:null,state:-1,remark:"",checkintime:null,isdelete:-1,altertime:null}}},mounted:function(){this.initTrucks(),this.initTypes(),this.initTruckTeams()},methods:{initTruck:function(){var e=this;this.getRequest("/truck/numbers").then(function(t){t&&(e.numbers=t.data)})},initTruckTeams:function(){var e=this;this.getRequest("/truck/team/").then(function(t){e.teams=t.data})},currentChange:function(e){this.currentPage=e,this.initTrucks()},sizeChange:function(e){this.pageSize=e,this.initTrucks()},initTypes:function(){var e=this;this.getRequest("/truck/types").then(function(t){t&&(e.types=t)})},initTrucks:function(){var e=this,t="/truck/?type="+this.trucktype+"&size="+this.pageSize+"&page="+this.currentPage;this.daterange&&(t+="&daterange="+this.daterange[0]+"&daterange="+this.daterange[1]),this.getRequest(t).then(function(t){e.loading=!1,t&&(e.total=t.total,e.trucks=t.data)})},showAddView:function(){this.truck={truckid:"",number:"",buydate:null,type:"",length:"",tonnage:null,fkTeamid:null,state:-1,remark:"",checkintime:null,isdelete:-1,altertime:null},this.dialogtitle="添加车辆信息",this.dialogVisible=!0},updateTruck:function(e,t){this.dialogtitle="修改车辆信息",this.dialogVisible=!0,this.truck=t},addTruck:function(){var e=this;this.truck.truckid?this.putRequest("/truck/update",this.truck).then(function(t){e.initTrucks(),e.dialogVisible=!1}):this.postRequest("/truck/",this.truck).then(function(t){t&&(e.dialogVisible=!1,e.initTrucks())})},deleteTruck:function(e){var t=this;this.$confirm("此操作将永久删除编号为【"+e.row.truckid+"】的车辆信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var a=e.row.truckid;t.getRequest("/truck/deleteById?truckid="+a).then(function(e){e&&t.initTrucks()})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})}}},y,!1,function(e){a("g8HP")},"data-v-521da168",null).exports,x={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("el-button",{staticStyle:{"background-color":"#009966",color:"#ffffff"},attrs:{type:"primary",icon:"el-icon-plus",size:"small"},on:{click:e.showAddTT}},[e._v("添加车队信息")]),e._v(" "),a("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入关键字进行搜索...","prefix-icon":"el-icon-search",clearable:""},on:{clear:e.initTruckTeams},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.initTruckTeams(t)}},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}}),e._v(" "),a("el-date-picker",{attrs:{type:"daterange","value-format":"yyyy-MM-dd","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:e.daterangeChange},model:{value:e.daterange,callback:function(t){e.daterange=t},expression:"daterange"}})],1),e._v(" "),a("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{title:e.dialogtitle,visible:e.dialogVisible,"close-on-click-modal":!1,width:"400px"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",[a("table",[a("tr",[a("td",[a("el-tag",[e._v("车队名称")])],1),e._v(" "),a("td",[a("el-input",{model:{value:e.truckTeam.teamname,callback:function(t){e.$set(e.truckTeam,"teamname",t)},expression:"truckTeam.teamname"}})],1)]),e._v(" "),a("tr",[a("td",[a("el-tag",[e._v("车队负责人")])],1),e._v(" "),a("td",[a("el-input",{model:{value:e.truckTeam.leader,callback:function(t){e.$set(e.truckTeam,"leader",t)},expression:"truckTeam.leader"}})],1)]),e._v(" "),a("tr",[a("td",[a("el-tag",[e._v("建队时间")])],1),e._v(" "),a("td",[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",type:"date",placeholder:"选择日期"},model:{value:e.truckTeam.checkintime,callback:function(t){e.$set(e.truckTeam,"checkintime",t)},expression:"truckTeam.checkintime"}})],1)]),e._v(" "),a("tr",[a("td",[a("el-tag",[e._v("备注")])],1),e._v(" "),a("td",{attrs:{colspan:"3"}},[a("el-input",{attrs:{type:"textarea",rows:5,placeholder:"请输入内容"},model:{value:e.truckTeam.remark,callback:function(t){e.$set(e.truckTeam,"remark",t)},expression:"truckTeam.remark"}})],1)])])]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"info"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{staticStyle:{"background-color":"#009966",color:"#ffffff"},attrs:{type:"primary"},on:{click:e.addTruckTeam}},[e._v("确 定")])],1)]),e._v(" "),a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.truckTeams,stripe:""}},[a("el-table-column",{attrs:{prop:"teamid",label:"车队编号",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{prop:"teamname",label:"车队名称",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{prop:"checkintime",label:"创队时间",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{prop:"leader",label:"负责人",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{prop:"remark",label:"备注",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{prop:"remark",label:"操作",width:"200px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticStyle:{"background-color":"#009966",color:"#ffffff"},attrs:{type:"info",size:"mini",icon:"el-icon-edit"},on:{click:function(a){return e.editTruck(t.$index,t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{attrs:{type:"info",size:"mini",icon:"el-icon-delete"},on:{click:function(a){return e.deleteTruck(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("div",[a("el-pagination",{staticStyle:{display:"flex","justify-content":"flex-end","margin-right":"10px"},attrs:{"current-page":e.currentPage,"page-size":e.pageSize,"page-sizes":[5,10,15,20],layout:"sizes,prev,pager,next,jumper,->,total,slot",total:e.total},on:{"current-change":e.currentChange,"size-change":e.sizeChange}})],1)],1)],1)},staticRenderFns:[]};var S=a("VU/8")({name:"TruckTeam",data:function(){return{currentPage:1,pageSize:5,total:0,keyword:null,daterange:null,loading:!0,truckTeams:[],dialogtitle:"",dialogVisible:!1,truckTeam:{teamid:"",teamname:"",leader:"",remark:"",checkintime:null,isdelete:-1,altertime:null}}},mounted:function(){this.initTruckTeams()},methods:{daterangeChange:function(e){this.initTruckTeams()},currentChange:function(e){this.currentPage=e,this.initTruckTeams()},sizeChange:function(e){this.pageSize=e,this.initTruckTeams()},initTruckTeams:function(){var e=this,t="/truck/team/?page="+this.currentPage+"&size="+this.pageSize;this.daterange&&(t+="&daterange="+this.daterange[0]+"&daterange="+this.daterange[1]),this.keyword&&(t+="&keyword="+this.keyword),null!=this.daterange&&null!=this.keyword&&(t+="&daterange="+this.daterange[0]+"&daterange="+this.daterange[1]+"&keyword="+this.keyword),this.getRequest(t).then(function(t){t&&(e.truckTeams=t.data,e.total=t.total,e.loading=!1)})},showAddTT:function(){this.dialogtitle="添加车队信息",this.dialogVisible=!0,this.truckTeam={teamid:"",teamname:"",leader:"",remark:"",checkintime:null,isdelete:-1,altertime:null}},addTruckTeam:function(){var e=this;this.truckTeam.teamid?this.putRequest("/truck/team/",this.truckTeam).then(function(t){t&&(e.dialogVisible=!1,e.initTruckTeams())}):this.postRequest("/truck/team/",this.truckTeam).then(function(t){t&&(e.dialogVisible=!1,e.initTruckTeams())})},editTruck:function(e,t){this.dialogtitle="修改车队信息",this.dialogVisible=!0,this.truckTeam=t},deleteTruck:function(e,t){var a=this;this.$confirm("此操作将永久删除【"+t.teamid+"】车队的信息是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.deleteRequest("/truck/team/"+t.teamid).then(function(e){e&&a.initTruckTeams()})}).catch(function(){a.$message({type:"info",message:"已取消删除"})})}}},x,!1,function(e){a("qSty")},"data-v-66b317ae",null).exports,T={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{"margin-top":"10px"}},[a("el-button",{attrs:{type:"success"},on:{click:e.showAddDriverView}},[e._v("添加驾驶员")]),e._v(" "),a("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入关键字进行搜索...","prefix-icon":"el-icon-search",clearable:""},on:{clear:e.initDrivers},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.initDrivers(t)}},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}}),e._v(" "),a("div",[a("div",{staticStyle:{"margin-top":"5px"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.drivers,stripe:"",border:"","element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"}},[a("el-table-column",{attrs:{prop:"driverid",label:"驾驶员编号",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"姓名",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{label:"性别"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(0==t.row.sex?"男":"女")+"\n          ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"birth",label:"出生日期"}}),e._v(" "),a("el-table-column",{attrs:{prop:"phone",label:"电话"}}),e._v(" "),a("el-table-column",{attrs:{prop:"idcard",label:"身份证号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"truckTeam.teamname",label:"绑定车队"}}),e._v(" "),a("el-table-column",{attrs:{label:"工作状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(1==t.row.state?"承运中":"空闲")+"\n          ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"checkintime",label:"加入时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"remark",label:"备注"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑\n            ")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v("删除\n            ")])]}}])})],1)],1),e._v(" "),a("div",{staticStyle:{display:"flex","justify-content":"flex-end"}},[a("el-pagination",{staticStyle:{"margin-right":"10px"},attrs:{background:"","page-sizes":[5,10,15,20],"page-size":e.pageSize,"current-page":e.currentPage,layout:"sizes, prev, pager, next, jumper, ->, total, slot",total:e.total},on:{"current-change":e.currentChange,"size-change":e.sizeChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:e.Title,visible:e.dialogVisible,"close-on-click-modal":e.closeOnClickModal,"close-on-press-escape":e.closeOnPressEscape,width:"50%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",[a("table",[a("tr",[a("td",[a("el-tag",[e._v("司机姓名")])],1),e._v(" "),a("td",[a("el-input",{model:{value:e.driver.name,callback:function(t){e.$set(e.driver,"name",t)},expression:"driver.name"}})],1),e._v(" "),a("td",[a("el-tag",[e._v("性别")])],1),e._v(" "),a("td",[a("el-radio-group",{model:{value:e.driver.sex,callback:function(t){e.$set(e.driver,"sex",t)},expression:"driver.sex"}},[a("el-radio",{attrs:{label:0}},[e._v("男")]),e._v(" "),a("el-radio",{attrs:{label:1}},[e._v("女")])],1)],1)]),e._v(" "),a("tr",[a("td",[a("el-tag",[e._v("出生日期")])],1),e._v(" "),a("td",[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",type:"date",placeholder:"选择出生日期"},model:{value:e.driver.birth,callback:function(t){e.$set(e.driver,"birth",t)},expression:"driver.birth"}})],1),e._v(" "),a("td",[a("el-tag",[e._v("联系电话")])],1),e._v(" "),a("td",[a("el-input",{model:{value:e.driver.phone,callback:function(t){e.$set(e.driver,"phone",t)},expression:"driver.phone"}})],1)]),e._v(" "),a("tr",[a("td",[a("el-tag",[e._v("身份证号码")])],1),e._v(" "),a("td",[a("el-input",{model:{value:e.driver.idcard,callback:function(t){e.$set(e.driver,"idcard",t)},expression:"driver.idcard"}})],1),e._v(" "),a("td",[a("el-tag",[e._v("绑定车队")])],1),e._v(" "),a("td",[a("el-select",{attrs:{placeholder:"请选择车队"},model:{value:e.driver.fkTeamid,callback:function(t){e.$set(e.driver,"fkTeamid",t)},expression:"driver.fkTeamid"}},e._l(e.teams,function(e){return a("el-option",{key:e.teamid,attrs:{label:e.teamname,value:e.teamid}})}),1)],1)]),e._v(" "),a("tr",[a("td",[a("el-tag",[e._v("工作状态")])],1),e._v(" "),a("td",[a("el-radio-group",{model:{value:e.driver.state,callback:function(t){e.$set(e.driver,"state",t)},expression:"driver.state"}},[a("el-radio",{attrs:{label:1}},[e._v("承运中")]),e._v(" "),a("el-radio",{attrs:{label:2}},[e._v("空闲")])],1)],1),e._v(" "),a("td",[a("el-tag",[e._v("绑定日期")])],1),e._v(" "),a("td",[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",type:"date",placeholder:"选择日期"},model:{value:e.driver.checkintime,callback:function(t){e.$set(e.driver,"checkintime",t)},expression:"driver.checkintime"}})],1)]),e._v(" "),a("tr",[a("td",[a("el-tag",[e._v("备注")])],1),e._v(" "),a("td",{attrs:{colspan:"3"}},[a("el-input",{attrs:{type:"textarea",rows:5,placeholder:"请输入内容"},model:{value:e.driver.remark,callback:function(t){e.$set(e.driver,"remark",t)},expression:"driver.remark"}})],1)])])]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.addDriverView}},[e._v("确 定")])],1)])],1)],1)},staticRenderFns:[]};var $=a("VU/8")({name:"Drivers",data:function(){return{Title:"",teams:[],numbers:[],keyword:null,pageSize:5,currentPage:1,total:0,drivers:[],dialogVisible:!1,closeOnClickModal:!0,closeOnPressEscape:!0,driver:{driverid:"",name:"",sex:"",birth:null,phone:"",idcard:"",fkTeamid:"",state:2,remark:"",checkintime:null,isdelete:0,altertime:null}}},mounted:function(){this.initDrivers(),this.initTruck(),this.initTruckTeams()},methods:{initTruck:function(){var e=this;this.getRequest("/truck/numbers").then(function(t){t&&(e.numbers=t.data)})},initTruckTeams:function(){var e=this;this.getRequest("/truck/team/").then(function(t){e.teams=t.data})},handleEdit:function(e,t){this.Title="修改驾驶员信息",this.dialogVisible=!0,this.driver=t,this.initDrivers()},currentChange:function(e){this.currentPage=e,this.initDrivers()},sizeChange:function(e){this.pageSize=e,this.initDrivers()},handleDelete:function(e,t){var a=this;this.$confirm("此操作将永久删除编号为【"+t.name+"】的驾驶员信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.deleteRequest("/driver/"+t.driverid).then(function(e){e&&a.initDrivers()})}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},initDrivers:function(){var e=this;this.keyword?this.getRequest("/driver/?page="+this.currentPage+"&size="+this.pageSize+"&keyword="+this.keyword).then(function(t){t&&(e.drivers=t.data,e.total=t.total)}):this.getRequest("/driver/?page="+this.currentPage+"&size="+this.pageSize).then(function(t){t&&(e.drivers=t.data,e.total=t.total)})},showAddDriverView:function(){this.driver={driverid:"",name:"",sex:"",birth:null,phone:"",idcard:"",fkTeamid:"",state:1,remark:"",checkintime:null,isdelete:1,altertime:null},this.Title="添加驾驶员信息",this.dialogVisible=!0,this.closeOnClickModal=!1,this.closeOnPressEscape=!1},addDriverView:function(){var e=this;this.driver.driverid?this.putRequest("/driver/",this.driver).then(function(t){t&&(e.dialogVisible=!1,e.initDrivers())}):this.postRequest("/driver/",this.driver).then(function(t){t&&(e.dialogVisible=!1,e.initDrivers())})}}},T,!1,function(e){a("o0t0")},"data-v-0b4238ce",null).exports,z={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div"),e._v(" "),a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.capaTrucks,stripe:""}},[a("el-table-column",{attrs:{prop:"truckid",label:"车辆编号",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{prop:"number",label:"车牌号",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{prop:"buydate",label:"购买日期",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{prop:"type",label:"车辆类型",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{prop:"length",label:"入队时长",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{prop:"tonnage",label:"车辆吨位",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{prop:"truckteam.teamname",label:"所属车队",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{label:"车辆状态",width:"auto"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:"primary"}},[e._v(e._s(1==t.row.state?"承运中":"空闲"))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"checkintime",label:"入队时间",width:"auto"}}),e._v(" "),a("el-table-column",{attrs:{prop:"remark",label:"备注信息",width:"auto"}})],1),e._v(" "),a("div",[a("el-pagination",{staticStyle:{display:"flex","justify-content":"flex-end","margin-right":"10px"},attrs:{"current-page":e.currentPage,"page-size":e.pageSize,"page-sizes":[5,10,15,20],layout:"sizes,prev,pager,next,jumper,->,total,slot",total:e.total},on:{"current-change":e.currentChange,"size-change":e.sizeChange}})],1)],1)])},staticRenderFns:[]};var C=a("VU/8")({name:"DriverSearch",data:function(){return{currentPage:1,pageSize:5,total:0,capaTrucks:[],loading:!0}},mounted:function(){this.initCapaTrucks()},methods:{currentChange:function(e){this.currentPage=e,this.initCapaTrucks()},sizeChange:function(e){this.pageSize=e,this.initCapaTrucks()},initCapaTrucks:function(){var e=this,t="/capa/?page="+this.currentPage+"&size="+this.pageSize;this.getRequest(t).then(function(t){t&&(e.capaTrucks=t.data,e.total=t.total,e.loading=!1)})}}},z,!1,function(e){a("yKUV")},"data-v-767fdeba",null).exports,R={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div"),e._v(" "),a("div",{staticStyle:{"margin-top":"20px"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.carriers,stripe:"",border:""}},[a("el-table-column",{attrs:{prop:"carriersid",label:"承运单编号",fixed:"",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"sendlinkman",fixed:"",label:"发货人"}}),e._v(" "),a("el-table-column",{attrs:{prop:"sendcompany",label:"发货单位",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"sendaddress",width:"150",label:"发货单位地址"}}),e._v(" "),a("el-table-column",{attrs:{prop:"sendphone",width:"150",label:"发货人电话"}}),e._v(" "),a("el-table-column",{attrs:{prop:"receivecompany",width:"150",label:"收货单位"}}),e._v(" "),a("el-table-column",{attrs:{prop:"fkReceiveaddress",width:"150",label:"收货单位地址"}}),e._v(" "),a("el-table-column",{attrs:{prop:"receivelinkman",label:"收货人"}}),e._v(" "),a("el-table-column",{attrs:{prop:"receivephone",width:"150",label:"收货人电话"}}),e._v(" "),a("el-table-column",{attrs:{prop:"leaverdate",width:"150",label:"承运日期"}}),e._v(" "),a("el-table-column",{attrs:{prop:"receivedate",width:"150",label:"收货时间"}}),e._v(" "),a("el-table-column",{attrs:{label:"完成情况"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.finishedstate?a("el-tag",{attrs:{type:"danger"}},[e._v("待调度")]):1==t.row.finishedstate?a("el-tag",{attrs:{type:"info"}},[e._v("已调度")]):2==t.row.finishedstate?a("el-tag",{attrs:{type:"warning"}},[e._v("已签收")]):a("el-tag",{attrs:{type:"success"}},[e._v("已结算")])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"insurancecost",label:"保险费"}}),e._v(" "),a("el-table-column",{attrs:{prop:"transportcost",label:"运费"}}),e._v(" "),a("el-table-column",{attrs:{prop:"othercost",label:"其他费用"}}),e._v(" "),a("el-table-column",{attrs:{prop:"scheduling.oilcost",width:"150",label:"油费"}}),e._v(" "),a("el-table-column",{attrs:{prop:"scheduling.toll",width:"150",label:"过桥费"}}),e._v(" "),a("el-table-column",{attrs:{prop:"scheduling.fine",width:"150",label:"罚款"}}),e._v(" "),a("el-table-column",{attrs:{prop:"scheduling.othercost",label:"其他调度费用"}}),e._v(" "),a("el-table-column",{attrs:{prop:"scheduling.totalcost",label:"合计费用"}}),e._v(" "),a("el-table-column",{attrs:{prop:"remark",label:"备注"}}),e._v(" "),a("el-table-column",{attrs:{prop:"checkintime",width:"150",label:"录入时间"}})],1)],1),e._v(" "),a("div",[a("el-pagination",{staticStyle:{display:"flex","justify-content":"flex-end","margin-right":"10px"},attrs:{"current-page":e.currentPage,"page-size":e.pageSize,"page-sizes":[5,10,15,20],layout:"sizes,prev,pager,next,jumper,->,total,slot",total:e.total},on:{"current-change":e.currentChange,"size-change":e.sizeChange}})],1)])},staticRenderFns:[]};var V=a("VU/8")({name:"History",data:function(){return{carriers:[],total:0,loading:!0,pageSize:5,currentPage:1}},mounted:function(){this.initCarriers()},methods:{currentChange:function(e){this.currentPage=e,this.initCarriers()},sizeChange:function(e){this.pageSize=e,this.initCarriers()},initCarriers:function(){var e=this,t="/sche/carriers4/?page="+this.currentPage+"&size="+this.pageSize;this.getRequest(t).then(function(t){t&&(e.carriers=t.data,e.total=t.total,e.loading=!1)})}}},R,!1,function(e){a("u4L1")},"data-v-3a440068",null).exports,U={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div"),e._v(" "),a("div",{staticStyle:{"margin-top":"10px"}},[a("el-tag",{staticStyle:{"margin-bottom":"5px"},attrs:{type:"primary"}},[e._v("待调度承运单")]),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.carriersS,stripe:"",border:""}},[a("el-table-column",{attrs:{prop:"carriersid",label:"承运单编号",fixed:"",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"sendlinkman",fixed:"",label:"发货人"}}),e._v(" "),a("el-table-column",{attrs:{prop:"sendcompany",label:"发货单位",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"sendaddress",width:"150",label:"发货单位地址"}}),e._v(" "),a("el-table-column",{attrs:{prop:"sendphone",width:"150",label:"发货人电话"}}),e._v(" "),a("el-table-column",{attrs:{prop:"receivecompany",width:"150",label:"收货单位"}}),e._v(" "),a("el-table-column",{attrs:{prop:"fkReceiveaddress",width:"150",label:"收货单位地址"}}),e._v(" "),a("el-table-column",{attrs:{prop:"receivelinkman",label:"收货人"}}),e._v(" "),a("el-table-column",{attrs:{prop:"receivephone",width:"150",label:"收货人电话"}}),e._v(" "),a("el-table-column",{attrs:{prop:"leaverdate",width:"150",label:"承运日期"}}),e._v(" "),a("el-table-column",{attrs:{prop:"receivedate",width:"150","value-format":"yyyy-MM-dd",label:"收货时间"}}),e._v(" "),a("el-table-column",{attrs:{label:"完成情况"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.finishedstate?a("el-tag",{attrs:{type:"danger"}},[e._v("待调度")]):1==t.row.finishedstate?a("el-tag",{attrs:{type:"info"}},[e._v("已调度")]):2==t.row.finishedstate?a("el-tag",{attrs:{type:"warning"}},[e._v("已签收")]):a("el-tag",{attrs:{type:"success"}},[e._v("已结算")])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"insurancecost",label:"保险费"}}),e._v(" "),a("el-table-column",{attrs:{prop:"transportcost",label:"运费"}}),e._v(" "),a("el-table-column",{attrs:{prop:"othercost",label:"其他费用"}}),e._v(" "),a("el-table-column",{attrs:{prop:"totalcost",label:"合计费用"}}),e._v(" "),a("el-table-column",{attrs:{prop:"remark",label:"备注"}}),e._v(" "),a("el-table-column",{attrs:{prop:"checkintime",width:"150",label:"录入时间"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"150",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticStyle:{"background-color":"#009966",color:"#ffffff"},attrs:{type:"success",size:"small"},on:{click:function(a){return e.showdialog(t.row)}}},[e._v("调度")])]}}])})],1),e._v(" "),a("el-dialog",{attrs:{title:"提示",visible:e.dialogVisible,width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.truckid,callback:function(t){e.truckid=t},expression:"truckid"}},e._l(e.trucks,function(t){return a("el-option",{key:t.truckid,attrs:{label:t.number,value:t.truckid}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.number))]),e._v(" "),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.tonnage)+"吨")])])}),1),e._v(" "),a("el-date-picker",{attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm",placeholder:"选择出发时间"},model:{value:e.startTime,callback:function(t){e.startTime=t},expression:"startTime"}}),e._v(" "),a("table",[a("tr",[a("td",[e._v("油费")]),e._v(" "),a("td",[a("el-input",{model:{value:e.oilcost,callback:function(t){e.oilcost=t},expression:"oilcost"}})],1)]),e._v(" "),a("tr",[a("td",[e._v("过桥费")]),e._v(" "),a("td",[a("el-input",{model:{value:e.toll,callback:function(t){e.toll=t},expression:"toll"}})],1)]),e._v(" "),a("tr",[a("td",[e._v("罚款")]),e._v(" "),a("td",[a("el-input",{model:{value:e.fine,callback:function(t){e.fine=t},expression:"fine"}})],1)]),e._v(" "),a("tr",[a("td",[e._v("其他费用")]),e._v(" "),a("td",[a("el-input",{model:{value:e.othercost,callback:function(t){e.othercost=t},expression:"othercost"}})],1)]),e._v(" "),a("tr",[a("td",[e._v("合计成本")]),e._v(" "),a("td",[a("el-input",{model:{value:e.totalcost,callback:function(t){e.totalcost=t},expression:"totalcost"}})],1)])]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"info"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{staticStyle:{"background-color":"#009966",color:"#ffffff"},attrs:{type:"primary"},on:{click:e.sche}},[e._v("确 定")])],1)],1)],1),e._v(" "),a("div",{staticStyle:{"margin-top":"30px",border:"1px solid cadetblue"}}),e._v(" "),a("div",[a("el-tag",{staticStyle:{"margin-top":"5px"},attrs:{type:"success"}},[e._v("已调度承运单")]),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.sches,stripe:"",border:""}},[a("el-table-column",{attrs:{prop:"schedulingid",label:"调度编号",fixed:"",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"starttime",width:"180",label:"出发时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"fkCarriersid",label:"承运单编号",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"fkTruckid",label:"车辆编号",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"oilcost",width:"150",label:"油费"}}),e._v(" "),a("el-table-column",{attrs:{prop:"toll",width:"150",label:"过桥费"}}),e._v(" "),a("el-table-column",{attrs:{prop:"fine",width:"150",label:"罚款"}}),e._v(" "),a("el-table-column",{attrs:{prop:"othercost",width:"150",label:"其他费用"}}),e._v(" "),a("el-table-column",{attrs:{prop:"totalcost",label:"合计成本"}}),e._v(" "),a("el-table-column",{attrs:{prop:"remark",width:"150",label:"备注"}}),e._v(" "),a("el-table-column",{attrs:{prop:"checkintime",width:"150",label:"调度时间"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"150",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(e){}}])})],1)],1)])},staticRenderFns:[]};var q=a("VU/8")({name:"Scheduling",data:function(){return{oilcost:null,toll:null,fine:null,othercost:null,totalcost:null,sches:[],startTime:null,rowB:[],trucks:[],truckid:"",dialogVisible:!1,visible:!1,loading:!0,carriersS:[]}},mounted:function(){this.initCarriers(),this.initTrucks(),this.initSches()},methods:{initSches:function(){var e=this;this.getRequest("/sche/").then(function(t){t&&(e.sches=t.data,e.loading=!1)})},sche:function(){var e=this;this.postKeyValueRequest("/sche/",{carriersid:this.rowB.carriersid,truckid:this.truckid,startTime:this.startTime,oilcost:this.oilcost,toll:this.toll,fine:this.fine,othercost:this.othercost,totalcost:this.totalcost}).then(function(t){t&&(e.initCarriers(),e.initSches(),e.dialogVisible=!1,e.loading=!1)})},initTrucks:function(){var e=this;this.getRequest("/sche/truck").then(function(t){t&&(e.trucks=t,e.loading=!1)})},initCarriers:function(){var e=this;this.getRequest("/sche/carriers").then(function(t){t&&(e.carriersS=t.data,e.loading=!1)})},showdialog:function(e){this.rowB=e,this.dialogVisible=!0}}},U,!1,function(e){a("Wfnx")},"data-v-fc10083a",null).exports,D={name:"WriteOrder",data:function(){return{carriers:[],loading:!0}},mounted:function(){this.initCarriers()},methods:{receipted:function(e){var t=this;console.log(this.carriers),this.putRequest("/task/rece/?carriersid="+e.carriersid).then(function(e){e&&t.initCarriers()})},initCarriers:function(){var e=this;this.getRequest("/task/rece/").then(function(t){t&&(e.carriers=t.data,e.loading=!1)})}}},E={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div"),e._v(" "),a("div",{staticStyle:{"margin-top":"10px"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.carriers,stripe:"",border:""}},[a("el-table-column",{attrs:{prop:"carriersid",label:"承运单编号",fixed:"",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"sendlinkman",fixed:"",label:"发货人"}}),e._v(" "),a("el-table-column",{attrs:{prop:"sendcompany",label:"发货单位",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"sendaddress",width:"150",label:"发货单位地址"}}),e._v(" "),a("el-table-column",{attrs:{prop:"sendphone",width:"150",label:"发货人电话"}}),e._v(" "),a("el-table-column",{attrs:{prop:"receivecompany",width:"150",label:"收货单位"}}),e._v(" "),a("el-table-column",{attrs:{prop:"fkReceiveaddress",width:"150",label:"收货单位地址"}}),e._v(" "),a("el-table-column",{attrs:{prop:"receivelinkman",label:"收货人"}}),e._v(" "),a("el-table-column",{attrs:{prop:"receivephone",width:"150",label:"收货人电话"}}),e._v(" "),a("el-table-column",{attrs:{prop:"leaverdate",width:"150",label:"承运日期"}}),e._v(" "),a("el-table-column",{attrs:{prop:"receivedate",width:"150",label:"收货时间"}}),e._v(" "),a("el-table-column",{attrs:{label:"完成情况"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.finishedstate?a("el-tag",{attrs:{type:"danger"}},[e._v("待调度")]):1==t.row.finishedstate?a("el-tag",{attrs:{type:"danger"}},[e._v("已调度")]):2==t.row.finishedstate?a("el-tag",{attrs:{type:"warning"}},[e._v("已签收")]):a("el-tag",{attrs:{type:"success"}},[e._v("已结算")])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"insurancecost",label:"保险费"}}),e._v(" "),a("el-table-column",{attrs:{prop:"transportcost",label:"运费"}}),e._v(" "),a("el-table-column",{attrs:{prop:"othercost",label:"其他费用"}}),e._v(" "),a("el-table-column",{attrs:{prop:"totalcost",label:"合计费用"}}),e._v(" "),a("el-table-column",{attrs:{prop:"remark",label:"备注"}}),e._v(" "),a("el-table-column",{attrs:{prop:"checkintime",width:"150",label:"录入时间"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"150",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.receipted(t.row)}}},[e._v("签收\n          ")])]}}])})],1)],1)])},staticRenderFns:[]};var O=a("VU/8")(D,E,!1,function(e){a("DDw3")},"data-v-0192fcf0",null).exports,P={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("div",[a("el-button",{staticStyle:{"margin-top":"10px","background-color":"#009966",color:"#ffffff"},attrs:{icon:"el-icon-plus",size:"small"},on:{click:e.showAddCarriersView}},[e._v("添加承运单\n\n      ")]),e._v(" "),a("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入关键字进行搜索...","prefix-icon":"el-icon-search",clearable:""},on:{change:e.initCarriers,clear:e.initCarriers},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.initCarriers(t)}},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}})],1),e._v(" "),a("el-dialog",{attrs:{title:e.dialogtitle,visible:e.dialogVisible,width:"60%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",[a("table",{staticClass:"addTaskTable"},[a("tr",[a("td",[e._v("发货单位")]),e._v(" "),a("td",[a("el-input",{model:{value:e.carriers.sendcompany,callback:function(t){e.$set(e.carriers,"sendcompany",t)},expression:"carriers.sendcompany"}})],1),e._v(" "),a("td",[e._v("发货单位地址")]),e._v(" "),a("td",[a("el-input",{model:{value:e.carriers.sendaddress,callback:function(t){e.$set(e.carriers,"sendaddress",t)},expression:"carriers.sendaddress"}})],1)]),e._v(" "),a("tr",[a("td",[e._v("发货人")]),e._v(" "),a("td",[a("el-input",{model:{value:e.carriers.sendlinkman,callback:function(t){e.$set(e.carriers,"sendlinkman",t)},expression:"carriers.sendlinkman"}})],1),e._v(" "),a("td",[e._v("发货人电话")]),e._v(" "),a("td",[a("el-input",{model:{value:e.carriers.sendphone,callback:function(t){e.$set(e.carriers,"sendphone",t)},expression:"carriers.sendphone"}})],1)]),e._v(" "),a("tr",[a("td",[e._v("收货单位")]),e._v(" "),a("td",[a("el-input",{model:{value:e.carriers.receivecompany,callback:function(t){e.$set(e.carriers,"receivecompany",t)},expression:"carriers.receivecompany"}})],1),e._v(" "),a("td",[e._v("收货单位地址")]),e._v(" "),a("td",[a("el-input",{model:{value:e.carriers.fkReceiveaddress,callback:function(t){e.$set(e.carriers,"fkReceiveaddress",t)},expression:"carriers.fkReceiveaddress"}})],1)]),e._v(" "),a("tr",[a("td",[e._v("收货人")]),e._v(" "),a("td",[a("el-input",{model:{value:e.carriers.receivelinkman,callback:function(t){e.$set(e.carriers,"receivelinkman",t)},expression:"carriers.receivelinkman"}})],1),e._v(" "),a("td",[e._v("收货人电话")]),e._v(" "),a("td",[a("el-input",{model:{value:e.carriers.receivephone,callback:function(t){e.$set(e.carriers,"receivephone",t)},expression:"carriers.receivephone"}})],1)]),e._v(" "),a("tr",[a("td",[e._v("承运日期")]),e._v(" "),a("td",[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.carriers.leaverdate,callback:function(t){e.$set(e.carriers,"leaverdate",t)},expression:"carriers.leaverdate"}})],1),e._v(" "),a("td",[e._v("收货时间")]),e._v(" "),a("td",[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.carriers.receivedate,callback:function(t){e.$set(e.carriers,"receivedate",t)},expression:"carriers.receivedate"}})],1)]),e._v(" "),a("tr",[a("td",[e._v("完成状态")]),e._v(" "),a("td",[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.carriers.finishedstate,callback:function(t){e.$set(e.carriers,"finishedstate",t)},expression:"carriers.finishedstate"}},e._l(e.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),a("td",[e._v("保险费")]),e._v(" "),a("td",[a("el-input",{model:{value:e.carriers.insurancecost,callback:function(t){e.$set(e.carriers,"insurancecost",t)},expression:"carriers.insurancecost"}})],1)]),e._v(" "),a("tr",[a("td",[e._v("运费")]),e._v(" "),a("td",[a("el-input",{model:{value:e.carriers.transportcost,callback:function(t){e.$set(e.carriers,"transportcost",t)},expression:"carriers.transportcost"}})],1),e._v(" "),a("td",[e._v("其他费用")]),e._v(" "),a("td",[a("el-input",{model:{value:e.carriers.othercost,callback:function(t){e.$set(e.carriers,"othercost",t)},expression:"carriers.othercost"}})],1)]),e._v(" "),a("tr",[a("td",[e._v("合计费用")]),e._v(" "),a("td",[a("el-input",{model:{value:e.carriers.totalcost,callback:function(t){e.$set(e.carriers,"totalcost",t)},expression:"carriers.totalcost"}})],1),e._v(" "),a("td",[e._v("备注")]),e._v(" "),a("td",[a("el-input",{model:{value:e.carriers.remark,callback:function(t){e.$set(e.carriers,"remark",t)},expression:"carriers.remark"}})],1)])])]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"info"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{staticStyle:{"background-color":"#009966",color:"#ffffff"},attrs:{type:"primary"},on:{click:e.addCarriers}},[e._v("确 定")])],1)]),e._v(" "),a("div",{staticStyle:{"margin-top":"10px"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.carriersS,stripe:"",border:""}},[a("el-table-column",{attrs:{prop:"carriersid",label:"承运单编号",fixed:"",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"sendlinkman",fixed:"",label:"发货人"}}),e._v(" "),a("el-table-column",{attrs:{prop:"sendcompany",label:"发货单位",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"sendaddress",width:"150",label:"发货单位地址"}}),e._v(" "),a("el-table-column",{attrs:{prop:"sendphone",width:"150",label:"发货人电话"}}),e._v(" "),a("el-table-column",{attrs:{prop:"receivecompany",width:"150",label:"收货单位"}}),e._v(" "),a("el-table-column",{attrs:{prop:"fkReceiveaddress",width:"150",label:"收货单位地址"}}),e._v(" "),a("el-table-column",{attrs:{prop:"receivelinkman",label:"收货人"}}),e._v(" "),a("el-table-column",{attrs:{prop:"receivephone",width:"150",label:"收货人电话"}}),e._v(" "),a("el-table-column",{attrs:{prop:"leaverdate",width:"150",label:"承运日期"}}),e._v(" "),a("el-table-column",{attrs:{prop:"receivedate",width:"150",label:"收货时间"}}),e._v(" "),a("el-table-column",{attrs:{label:"完成情况"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.finishedstate?a("el-tag",{attrs:{type:"danger"}},[e._v("待调度")]):1==t.row.finishedstate?a("el-tag",{attrs:{type:"info"}},[e._v("已调度")]):2==t.row.finishedstate?a("el-tag",{attrs:{type:"warning"}},[e._v("已签收")]):a("el-tag",{attrs:{type:"success"}},[e._v("已结算")])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"insurancecost",label:"保险费"}}),e._v(" "),a("el-table-column",{attrs:{prop:"transportcost",label:"运费"}}),e._v(" "),a("el-table-column",{attrs:{prop:"othercost",label:"其他费用"}}),e._v(" "),a("el-table-column",{attrs:{prop:"totalcost",label:"合计费用"}}),e._v(" "),a("el-table-column",{attrs:{prop:"remark",label:"备注"}}),e._v(" "),a("el-table-column",{attrs:{prop:"checkintime",width:"150",label:"录入时间"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"200px",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticStyle:{"background-color":"#009966",color:"#ffffff"},attrs:{size:"small",icon:"el-icon-edit"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v("修改\n            ")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"info",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v("删除\n            ")])]}}])})],1)],1),e._v(" "),a("div",[a("el-pagination",{staticStyle:{display:"flex","justify-content":"flex-end","margin-right":"10px"},attrs:{"current-page":e.currentPage,"page-size":e.pageSize,"page-sizes":[5,10,15,20],layout:"sizes,prev,pager,next,jumper,->,total,slot",total:e.total},on:{"current-change":e.currentChange,"size-change":e.sizeChange}})],1)],1)])},staticRenderFns:[]};var M=a("VU/8")({name:"ReceiveOrder",data:function(){return{dialogtitle:"",carriersS:[],total:1,currentPage:1,pageSize:5,keyword:null,loading:!0,dialogVisible:!1,options:[{value:0,label:"待调度"},{value:1,label:"已调度"},{value:2,label:"已签收"},{value:3,label:"已结算"}],carriers:{carriersid:"",sendcompany:"",sendaddress:"",sendlinkman:"",sendphone:"",receivecompany:"",fkReceiveaddress:"",receivelinkman:"",receivephone:"",leaverdate:"",receivedate:"",finishedstate:0,insurancecost:"",transportcost:"",othercost:"",totalcost:"",remark:""}}},mounted:function(){this.initCarriers()},methods:{handleDelete:function(e,t){var a=this;this.$confirm("此操作将永久删除编号为【"+t.carriersid+"】的承运单信息，是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.deleteRequest("/task/"+t.carriersid).then(function(e){e&&a.initCarriers()})}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},handleEdit:function(e,t){this.carriers=t,this.dialogVisible=!0,this.dialogtitle="修改承运单"},sizeChange:function(e){this.pageSize=e,this.initCarriers()},currentChange:function(e){this.currentPage=e,this.initCarriers()},initCarriers:function(){var e=this,t="/task/?page="+this.currentPage+"&size="+this.pageSize;this.keyword&&(t+="&keyword="+this.keyword),this.getRequest(t).then(function(t){t&&(e.carriersS=t.data,e.total=t.total,e.loading=!1)})},addCarriers:function(){var e=this;this.carriers.carriersid?this.putRequest("/task/",this.carriers).then(function(t){t&&(e.dialogVisible=!1,e.initCarriers())}):this.postRequest("/task/",this.carriers).then(function(t){t&&(e.dialogVisible=!1,e.initCarriers())})},showAddCarriersView:function(){this.carriers={carriersid:"",sendcompany:"",sendaddress:"",sendlinkman:"",sendphone:"",receivecompany:"",fkReceiveaddress:"",receivelinkman:"",receivephone:"",leaverdate:"",receivedate:"",finishedstate:0,insurancecost:"",transportcost:"",othercost:"",totalcost:"",remark:""},this.dialogVisible=!0,this.dialogtitle="添加承运单"}}},P,!1,function(e){a("uTcd")},"data-v-cf93b5f6",null).exports,F={render:function(){var e=this.$createElement;return(this._self._c||e)("div")},staticRenderFns:[]};var j=a("VU/8")({name:"cost"},F,!1,function(e){a("O122")},"data-v-5e5017c7",null).exports,A={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{"margin-top":"10px"}},[a("el-tag",{attrs:{type:"primary"}},[e._v("承运单")]),e._v(" "),a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.carriersS,stripe:"",border:""}},[a("el-table-column",{attrs:{prop:"carriersid",label:"承运单编号",fixed:"",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"sendlinkman",fixed:"",label:"发货人"}}),e._v(" "),a("el-table-column",{attrs:{prop:"sendcompany",label:"发货单位",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"sendaddress",width:"150",label:"发货单位地址"}}),e._v(" "),a("el-table-column",{attrs:{prop:"sendphone",width:"150",label:"发货人电话"}}),e._v(" "),a("el-table-column",{attrs:{prop:"receivecompany",width:"150",label:"收货单位"}}),e._v(" "),a("el-table-column",{attrs:{prop:"fkReceiveaddress",width:"150",label:"收货单位地址"}}),e._v(" "),a("el-table-column",{attrs:{prop:"receivelinkman",label:"收货人"}}),e._v(" "),a("el-table-column",{attrs:{prop:"receivephone",width:"150",label:"收货人电话"}}),e._v(" "),a("el-table-column",{attrs:{prop:"leaverdate",width:"150",label:"承运日期"}}),e._v(" "),a("el-table-column",{attrs:{prop:"receivedate",width:"150","value-format":"yyyy-MM-dd",label:"收货时间"}}),e._v(" "),a("el-table-column",{attrs:{label:"完成情况"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.finishedstate?a("el-tag",{attrs:{type:"danger"}},[e._v("待调度")]):1==t.row.finishedstate?a("el-tag",{attrs:{type:"info"}},[e._v("已调度")]):2==t.row.finishedstate?a("el-tag",{attrs:{type:"warning"}},[e._v("已签收")]):a("el-tag",{attrs:{type:"success"}},[e._v("已结算")])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"insurancecost",label:"保险费"}}),e._v(" "),a("el-table-column",{attrs:{prop:"transportcost",label:"运费"}}),e._v(" "),a("el-table-column",{attrs:{prop:"othercost",label:"其他费用"}}),e._v(" "),a("el-table-column",{attrs:{prop:"totalcost",label:"合计费用"}}),e._v(" "),a("el-table-column",{attrs:{prop:"remark",label:"备注"}}),e._v(" "),a("el-table-column",{attrs:{prop:"checkintime",width:"150",label:"录入时间"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"150",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){return e.corr(t.$index,t.row)}}},[e._v("结算")]),e._v(" "),a("el-button",{attrs:{type:"success",size:"small"},on:{click:function(a){return e.modifyCost1(t.$index,t.row)}}},[e._v("修改")])]}}])})],1)],1),e._v(" "),a("div",{staticStyle:{display:"flex","justify-content":"flex-end"}},[a("el-pagination",{staticStyle:{"margin-right":"10px"},attrs:{background:"","page-sizes":[5,10,15,20],"page-size":e.pageSize1,"current-page":e.currentPage1,layout:"sizes, prev, pager, next, jumper, ->, total, slot",total:e.total1},on:{"current-change":e.currentChange1,"size-change":e.sizeChange1}})],1),e._v(" "),a("el-dialog",{attrs:{title:"修改承运单",visible:e.dialogVisible,width:"60%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",[a("table",{staticClass:"addTaskTable"},[a("tr",[a("td",[e._v("发货单位")]),e._v(" "),a("td",[a("el-input",{model:{value:e.carriers.sendcompany,callback:function(t){e.$set(e.carriers,"sendcompany",t)},expression:"carriers.sendcompany"}})],1),e._v(" "),a("td",[e._v("发货单位地址")]),e._v(" "),a("td",[a("el-input",{model:{value:e.carriers.sendaddress,callback:function(t){e.$set(e.carriers,"sendaddress",t)},expression:"carriers.sendaddress"}})],1)]),e._v(" "),a("tr",[a("td",[e._v("发货人")]),e._v(" "),a("td",[a("el-input",{model:{value:e.carriers.sendlinkman,callback:function(t){e.$set(e.carriers,"sendlinkman",t)},expression:"carriers.sendlinkman"}})],1),e._v(" "),a("td",[e._v("发货人电话")]),e._v(" "),a("td",[a("el-input",{model:{value:e.carriers.sendphone,callback:function(t){e.$set(e.carriers,"sendphone",t)},expression:"carriers.sendphone"}})],1)]),e._v(" "),a("tr",[a("td",[e._v("收货单位")]),e._v(" "),a("td",[a("el-input",{model:{value:e.carriers.receivecompany,callback:function(t){e.$set(e.carriers,"receivecompany",t)},expression:"carriers.receivecompany"}})],1),e._v(" "),a("td",[e._v("收货单位地址")]),e._v(" "),a("td",[a("el-input",{model:{value:e.carriers.fkReceiveaddress,callback:function(t){e.$set(e.carriers,"fkReceiveaddress",t)},expression:"carriers.fkReceiveaddress"}})],1)]),e._v(" "),a("tr",[a("td",[e._v("收货人")]),e._v(" "),a("td",[a("el-input",{model:{value:e.carriers.receivelinkman,callback:function(t){e.$set(e.carriers,"receivelinkman",t)},expression:"carriers.receivelinkman"}})],1),e._v(" "),a("td",[e._v("收货人电话")]),e._v(" "),a("td",[a("el-input",{model:{value:e.carriers.receivephone,callback:function(t){e.$set(e.carriers,"receivephone",t)},expression:"carriers.receivephone"}})],1)]),e._v(" "),a("tr",[a("td",[e._v("承运日期")]),e._v(" "),a("td",[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.carriers.leaverdate,callback:function(t){e.$set(e.carriers,"leaverdate",t)},expression:"carriers.leaverdate"}})],1),e._v(" "),a("td",[e._v("收货时间")]),e._v(" "),a("td",[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.carriers.receivedate,callback:function(t){e.$set(e.carriers,"receivedate",t)},expression:"carriers.receivedate"}})],1)]),e._v(" "),a("tr",[a("td",[e._v("完成状态")]),e._v(" "),a("td",[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.carriers.finishedstate,callback:function(t){e.$set(e.carriers,"finishedstate",t)},expression:"carriers.finishedstate"}},e._l(e.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),a("td",[e._v("保险费")]),e._v(" "),a("td",[a("el-input",{model:{value:e.carriers.insurancecost,callback:function(t){e.$set(e.carriers,"insurancecost",t)},expression:"carriers.insurancecost"}})],1)]),e._v(" "),a("tr",[a("td",[e._v("运费")]),e._v(" "),a("td",[a("el-input",{model:{value:e.carriers.transportcost,callback:function(t){e.$set(e.carriers,"transportcost",t)},expression:"carriers.transportcost"}})],1),e._v(" "),a("td",[e._v("其他费用")]),e._v(" "),a("td",[a("el-input",{model:{value:e.carriers.othercost,callback:function(t){e.$set(e.carriers,"othercost",t)},expression:"carriers.othercost"}})],1)]),e._v(" "),a("tr",[a("td",[e._v("合计费用")]),e._v(" "),a("td",[a("el-input",{model:{value:e.carriers.totalcost,callback:function(t){e.$set(e.carriers,"totalcost",t)},expression:"carriers.totalcost"}})],1),e._v(" "),a("td",[e._v("备注")]),e._v(" "),a("td",[a("el-input",{model:{value:e.carriers.remark,callback:function(t){e.$set(e.carriers,"remark",t)},expression:"carriers.remark"}})],1)])])]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.handleDelete}},[e._v("确 定")])],1)]),e._v(" "),a("div",{staticStyle:{"margin-top":"5px"}},[a("el-tag",{attrs:{type:"primary"}},[e._v("调度单")]),e._v(" "),a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.sches,stripe:"",border:""}},[a("el-table-column",{attrs:{prop:"schedulingid",label:"调度编号",fixed:"",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"starttime",width:"180",label:"出发时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"fkCarriersid",label:"承运单编号",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"fkTruckid",label:"车辆编号",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"oilcost",width:"150",label:"邮费"}}),e._v(" "),a("el-table-column",{attrs:{prop:"toll",width:"150",label:"过桥费"}}),e._v(" "),a("el-table-column",{attrs:{prop:"fine",width:"150",label:"罚款"}}),e._v(" "),a("el-table-column",{attrs:{prop:"othercost",width:"150",label:"其他费用"}}),e._v(" "),a("el-table-column",{attrs:{prop:"totalcost",label:"合计成本"}}),e._v(" "),a("el-table-column",{attrs:{prop:"remark",width:"150",label:"备注"}}),e._v(" "),a("el-table-column",{attrs:{prop:"receivedate",width:"150",label:"调度时间"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"150",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){return e.count1(t.$index,t.row)}}},[e._v("结算")])]}}])})],1)],1),e._v(" "),a("div",{staticStyle:{display:"flex","justify-content":"flex-end"}},[a("el-pagination",{staticStyle:{"margin-right":"10px"},attrs:{background:"","page-sizes":[5,10,15,20],"page-size":e.pageSize2,"current-page":e.currentPage2,layout:"sizes, prev, pager, next, jumper, ->, total, slot",total:e.total2},on:{"current-change":e.currentChange2,"size-change":e.sizeChange2}})],1),e._v(" "),a("div",[a("el-dialog",{attrs:{title:"结算调度单",visible:e.dialogVisible3,width:"40%"},on:{"update:visible":function(t){e.dialogVisible3=t}}},[a("span",[e._v("已经结算")]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.count2}},[e._v("确 定")])],1)])],1)],1)],1)},staticRenderFns:[]};var B=a("VU/8")({name:"Coststatistic",data:function(){return{dialogVisible3:!1,pageSize2:5,currentPage2:1,total2:0,sches:[],carriersS:[],carriersid:"",totalcosts:[],pageSize1:5,currentPage1:1,total1:0,dialogVisible:!1,dialogVisible2:!1,carrier:[],options:[{value:0,label:"待调度"},{value:1,label:"已调度"},{value:2,label:"已签收"},{value:3,label:"已结算"}],carriers:{carriersid:"",sendcompany:"",sendaddress:"",sendlinkman:"",sendphone:"",receivecompany:"",fkReceiveaddress:"",receivelinkman:"",receivephone:"",leaverdate:"",receivedate:"",finishedstate:0,insurancecost:"",transportcost:"",othercost:"",totalcost:"",remark:""}}},mounted:function(){this.initCarriers(),this.initCarrier(),this.initSches()},methods:{count2:function(){this.dialogVisible3=!1},count1:function(e,t){this.dialogVisible3=!0},sizeChange2:function(e){this.pageSize2=e,this.initSches()},currentChange2:function(e){this.currentPage2=e,this.initSches()},initSches:function(){var e=this;this.getRequest("/cost/sche/?page="+this.currentPage2+"&size="+this.pageSize2).then(function(t){t&&(e.sches=t.data,e.total2=t.total)})},corr:function(e,t){var a=this;2==t.finishedstate?(this.dialogVisible2=!0,this.postKeyValueRequest("/cost/count/",{carriersid:t.carriersid,totalcost:t.totalcost}).then(function(e){e&&a.initCarriers()})):this.$confirm("对不起，该【"+t.carriersid+"】承运单未签收，不能结算","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},initCarrier:function(){var e=this;this.getRequest("/cost/carriers").then(function(t){t&&(e.totalcosts=t)})},handleDelete:function(){var e=this;this.putRequest("/cost/",this.carriers).then(function(t){t&&(e.dialogVisible=!1,e.initCarriers())})},modifyCost1:function(e,t){this.dialogVisible=!0,this.carriers=t},sizeChange1:function(e){this.pageSize1=e,this.initCarriers()},currentChange1:function(e){this.currentPage1=e,this.initCarriers()},initCarriers:function(){var e=this;this.getRequest("/cost/?page="+this.currentPage1+"&size="+this.pageSize1).then(function(t){t&&(e.carriersS=t.data,e.total1=t.total)})}}},A,!1,function(e){a("YHOn")},"data-v-2363b66e",null).exports,L={render:function(){var e=this.$createElement;return(this._self._c||e)("div",[this._v("\n 日志管理\n")])},staticRenderFns:[]};var I=a("VU/8")({name:"User"},L,!1,function(e){a("KEbn")},"data-v-31acd3d1",null).exports,N={render:function(){var e=this.$createElement;return(this._self._c||e)("div",[this._v("\n 系统管理\n")])},staticRenderFns:[]};var H=a("VU/8")({name:"User"},N,!1,function(e){a("2MlE")},"data-v-48e276e8",null).exports,K={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div"),e._v(" "),a("div",[a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.userData,"tooltip-effect":"dark"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{prop:"userid",label:"ID",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"username",label:"姓名",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"account",label:"账号"}}),e._v(" "),a("el-table-column",{attrs:{label:"性别"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.sex?a("el-tag",{staticStyle:{color:"rgba(0,155,103,0.61)"}},[e._v("先生")]):a("el-tag",{staticStyle:{color:"#ff96de"}},[e._v("女士")])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"phone",label:"电话"}}),e._v(" "),a("el-table-column",{attrs:{prop:"email",label:"邮箱"}}),e._v(" "),a("el-table-column",{attrs:{label:"所属部门"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.fkRoleid?a("el-tag",{staticClass:"el-icon-star-on",staticStyle:{"background-color":"#c8c9cc",color:"#ffffff"}},[e._v("承运部")]):2==t.row.fkRoleid?a("el-tag",{staticClass:"el-icon-star-on",staticStyle:{"background-color":"#c8c9cc",color:"#ffffff"}},[e._v("调度部")]):3==t.row.fkRoleid?a("el-tag",{staticClass:"el-icon-star-on",staticStyle:{"background-color":"#c8c9cc",color:"#ffffff"}},[e._v("财务部")]):4==t.row.fkRoleid?a("el-tag",{staticClass:"el-icon-star-on",staticStyle:{"background-color":"#c8c9cc",color:"#ffffff"}},[e._v("运输部")]):5==t.row.fkRoleid?a("el-tag",{staticClass:"el-icon-star-on",staticStyle:{color:"#009966"}},[e._v("超    管")]):a("el-tag",{staticClass:"el-icon-warning",attrs:{type:"info"}},[e._v("  未授权")])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"checkintime",label:"注册日期",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"remark",label:"操作",width:"200px"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.fkRoleid<=5?a("el-button",{attrs:{type:"info",size:"small",icon:"el-icon-check",disabled:""},on:{click:function(a){return e.authorizeUser(t.row)}}},[e._v("授权")]):a("el-button",{attrs:{type:"info",size:"small",icon:"el-icon-check"},on:{click:function(a){return e.authorizeUser(t.row)}}},[e._v("授权")]),e._v(" "),a("el-button",{staticStyle:{"background-color":"rgba(0,153,102,0.98)",color:"rgba(255,255,255,0.98)"},attrs:{size:"small",icon:"el-icon-edit"},on:{click:function(a){return e.ShowUpdateView(t.row)}}},[e._v("修改")])]}}])})],1)],1),e._v(" "),a("div",{staticStyle:{"margin-top":"20px"}},[a("el-button",{staticClass:"el-icon-success",staticStyle:{color:"#009966"},on:{click:function(t){return e.toggleSelection(e.userData)}}},[e._v("  全选")]),e._v(" "),a("el-button",{staticClass:"el-icon-error",on:{click:function(t){return e.toggleSelection()}}},[e._v("  取消选择")]),e._v(" "),a("el-button",{staticClass:"el-icon-warning",staticStyle:{color:"#009966"},on:{click:e.deleteById}},[e._v("  删除已选")]),e._v(" "),a("el-button",{staticClass:"el-icon-info",on:{click:e.authorizeUserBatch}},[e._v("  全部授权")])],1),e._v(" "),a("div",[a("el-pagination",{staticStyle:{display:"flex","justify-content":"flex-end","margin-right":"10px"},attrs:{"current-page":e.currentPage,"page-size":e.pageSize,"page-sizes":[25,50,75,100],layout:"sizes,prev,pager,next,jumper,->,total,slot",total:e.total},on:{"current-change":e.currentChange,"size-change":e.sizeChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:"修改用户信息",visible:e.dialogUser,width:"30%"},on:{"update:visible":function(t){e.dialogUser=t}}},[a("table",[a("tr",[a("td",[a("el-tag",[e._v("用户编号")])],1),e._v(" "),a("td",[a("el-input",{attrs:{disabled:!0},model:{value:e.userDataOne.userid,callback:function(t){e.$set(e.userDataOne,"userid",t)},expression:"userDataOne.userid"}})],1)]),e._v(" "),a("tr",[a("td",[a("el-tag",[e._v("昵称")])],1),e._v(" "),a("td",[a("el-input",{model:{value:e.userDataOne.username,callback:function(t){e.$set(e.userDataOne,"username",t)},expression:"userDataOne.username"}})],1),e._v(" "),a("td",[a("el-tag",[e._v("性别")])],1),e._v(" "),a("td",[a("el-radio-group",{attrs:{disabled:!0},model:{value:e.userDataOne.sex,callback:function(t){e.$set(e.userDataOne,"sex",t)},expression:"userDataOne.sex"}},[a("el-radio",{attrs:{label:1}},[e._v("先生")]),e._v(" "),a("el-radio",{attrs:{label:0}},[e._v("女士")])],1)],1)]),e._v(" "),a("tr",[a("td",[a("el-tag",[e._v("账号")])],1),e._v(" "),a("td",[a("el-input",{attrs:{disabled:!0},model:{value:e.userDataOne.account,callback:function(t){e.$set(e.userDataOne,"account",t)},expression:"userDataOne.account"}})],1),e._v(" "),a("td",[a("el-tag",[e._v("手机号码")])],1),e._v(" "),a("td",[a("el-input",{model:{value:e.userDataOne.phone,callback:function(t){e.$set(e.userDataOne,"phone",t)},expression:"userDataOne.phone"}})],1)]),e._v(" "),a("tr",[a("td",[a("el-tag",[e._v("所属部门")])],1),e._v(" "),a("td",[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.userDataOne.fkRoleid,callback:function(t){e.$set(e.userDataOne,"fkRoleid",t)},expression:"userDataOne.fkRoleid"}},e._l(e.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),a("td",[a("el-tag",[e._v("电子邮箱")])],1),e._v(" "),a("td",[a("el-input",{model:{value:e.userDataOne.email,callback:function(t){e.$set(e.userDataOne,"email",t)},expression:"userDataOne.email"}})],1)])]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogUser=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.updateUser}},[e._v("确 定")])],1)])],1)])},staticRenderFns:[]};var Z=a("VU/8")({name:"User",data:function(){return{userDataOne:{userid:null,username:"",sex:null,account:"",password:"",phone:"",email:"",fkRoleid:null,ckeckintime:null,isdelete:-1,altertime:""},dialogUser:!1,multipleSelection:[],userData:[],total:0,pageSize:25,currentPage:1,loading:!0,options:[{value:"1",label:"承运部"},{value:"2",label:"调度部"},{value:"3",label:"财务部"},{value:"4",label:"运输部"},{value:"5",label:"系统管理员"}],rolename:""}},mounted:function(){this.initUserData()},methods:{authorizeUserBatch:function(){var e=this;this.getRequest("/user/authorizeUserBatch").then(function(t){t&&e.initUserData()})},updateUser:function(){var e=this;this.putRequest("/user/updateUser",this.userDataOne).then(function(t){t&&(e.initUserData(),e.dialogUser=!1)})},ShowUpdateView:function(e){this.userDataOne=e,this.dialogUser=!0},authorizeUser:function(e){var t=this;this.putRequest("/user/authorize/"+e.userid).then(function(e){e&&t.initUserData()})},toggleSelection:function(e){var t=this;e?e.forEach(function(e){t.$refs.multipleTable.toggleRowSelection(e)}):this.$refs.multipleTable.clearSelection()},handleSelectionChange:function(e){this.multipleSelection=e},deleteById:function(){var e=this;this.$confirm("此操作将永久删除所选数据信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.postRequest("/user/",e.multipleSelection).then(function(t){t&&e.initUserData()})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},initUserData:function(){var e=this,t="/user/?page="+this.currentPage+"&size="+this.pageSize;this.getRequest(t).then(function(t){t&&(e.userData=t.data,e.total=t.total,e.loading=!1)})},sizeChange:function(e){this.pageSize=e,this.initUserData()},currentChange:function(e){this.currentPage=e,this.initUserData()}}},K,!1,function(e){a("1zTr")},"data-v-dc2daa98",null).exports,W={name:"UserInfo",data:function(){return{loading:!1,user:JSON.parse(window.sessionStorage.getItem("user")),users:{},options:[{value:"1",label:"承运部"},{value:"2",label:"调度部"},{value:"3",label:"财务人员"},{value:"4",label:"运输管理员"},{value:"5",label:"系统管理员"}],value:""}},mounted:function(){this.initUser()},methods:{initUser:function(){var e=this;this.getRequest("/user/userbyid/?userid="+this.user.userid).then(function(t){t&&(e.users=t)})},addUser:function(e){var t=this;this.putRequest("/user/updateUserById",this.users).then(function(e){e&&t.initUser()})}}},J={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div"),e._v(" "),a("div",[a("div",[a("div",{staticStyle:{border:"1px solid green","border-radius":"30px",width:"400px",height:"550px","margin-top":"20px","margin-left":"35%","box-shadow":"0 2px 4px rgba(0, 0, 0, .12), 0 0 6px rgba(0, 0, 0, .04)"}},[a("el-form",{staticClass:"demo-ruleForm",staticStyle:{"margin-top":"0px","padding-top":"60px","margin-right":"20px"},attrs:{model:e.users,"status-icon":"","label-width":"100px"}},[a("el-form-item",{attrs:{label:"昵称",prop:"username"}},[a("el-input",{attrs:{autocomplete:"on"},model:{value:e.users.username,callback:function(t){e.$set(e.users,"username",t)},expression:"users.username"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"性别",prop:"sex"}},[a("el-radio-group",{attrs:{disabled:""},model:{value:e.users.sex,callback:function(t){e.$set(e.users,"sex",t)},expression:"users.sex"}},[a("el-radio",{attrs:{label:1}},[e._v("男")]),e._v(" "),a("el-radio",{attrs:{label:0}},[e._v("女")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"账号",prop:"account"}},[a("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.users.account,callback:function(t){e.$set(e.users,"account",t)},expression:"users.account"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"手机号码",prop:"phone"}},[a("el-input",{attrs:{autocomplete:"on"},model:{value:e.users.phone,callback:function(t){e.$set(e.users,"phone",e._n(t))},expression:"users.phone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"邮箱地址",prop:"email"}},[a("el-input",{attrs:{type:"email",autocomplete:"on"},model:{value:e.users.email,callback:function(t){e.$set(e.users,"email",t)},expression:"users.email"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"所属部门",prop:"fkRoleid"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.user.role.rolename,callback:function(t){e.$set(e.user.role,"rolename",t)},expression:"user.role.rolename"}},e._l(e.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),a("el-form-item",[a("el-button",{staticStyle:{"background-color":"green",color:"#ffffff","margin-left":"20%"},on:{click:function(t){return e.addUser("user")}}},[e._v("修改")])],1)],1)],1)])])])},staticRenderFns:[]};var G=a("VU/8")(W,J,!1,function(e){a("VLyU")},"data-v-23532e16",null).exports;r.default.use(o.a);var Y=new o.a({routes:[{path:"/",name:"Login",hidden:!0,component:h},{path:"/home",name:"Home",hidden:!0,component:k,children:[{path:"/userInfo",name:"用户中心",hidden:!0,component:G}]},{path:"/home",name:"车辆管理",component:k,meta:{role:["运输管理员"]},children:[{path:"/truckmana",name:"车辆管理",component:w},{path:"/truckteam",name:"车队管理",component:S}]},{path:"/home",name:"驾驶员管理",component:k,meta:{role:["运输管理员"]},children:[{path:"/drivers",name:"驾驶员管理",component:$}]},{path:"/home",name:"运力查询",component:k,meta:{role:["调度员"]},children:[{path:"/driversearch",name:"运力查询",component:C},{path:"/history",name:"历史承运查询",component:V}]},{path:"/home",name:"调度任务",component:k,meta:{role:["调度员"]},children:[{path:"/scheduling",name:"调度承运任务",component:q}]},{path:"/home",name:"承运任务管理",component:k,meta:{role:["承运业务员"]},children:[{path:"/writeorder",name:"承运单开出",component:M},{path:"/receiveorder",name:"承运单接收",component:O}]},{path:"/home",name:"运输成本核算",component:k,meta:{role:["财务人员"]},children:[{path:"/cost",name:"运输成本维护",component:j},{path:"/coststatistic",name:"运输成本核算",component:B}]},{path:"/home",name:"系统维护",component:k,meta:{role:["系统管理员"]},children:[{path:"/user",name:"用户管理",component:Z},{path:"/log",name:"日志管理",component:I},{path:"/sys",name:"系统管理",component:H}]}]}),Q=a("mtWM"),X=a.n(Q);X.a.interceptors.request.use(function(e){return e},function(e){n.Message.error({message:"请求超时!"})}),X.a.interceptors.response.use(function(e){if(!e.status||200!=e.status||500!=e.data.status)return e.data.msg&&n.Message.success({message:e.data.msg}),e.data;n.Message.error({message:e.data.msg})},function(e){504==e.response.status||404==e.response.status?n.Message.error({message:"服务器被吃了⊙﹏⊙∥"}):403==e.response.status?n.Message.error({message:"权限不足,请联系管理员!"}):401==e.response.status?(n.Message.error({message:e.response.data.msg}),Y.replace("/")):e.response.data.msg?n.Message.error({message:e.response.data.msg}):n.Message.error({message:"未知错误!"})});r.default.config.productionTip=!1,r.default.prototype.getRequest=function(e){return X()({method:"get",url:""+e})},r.default.prototype.postRequest=function(e,t){return X()({method:"post",url:""+e,data:t,headers:{"Content-Type":"application/json"}})},r.default.prototype.putRequest=function(e,t){return X()({method:"put",url:""+e,data:t,headers:{"Content-Type":"application/json"}})},r.default.prototype.deleteRequest=function(e){return X()({method:"delete",url:""+e})},r.default.prototype.postKeyValueRequest=function(e,t){return X()({method:"post",url:""+e,data:t,transformRequest:[function(e){var t="";for(var a in e)t+=encodeURIComponent(a)+"="+encodeURIComponent(e[a])+"&";return t}],headers:{"Content-Type":"application/x-www-form-urlencoded"}})},r.default.use(s.a),Y.beforeEach(function(e,t,a){"/"==e.path||window.sessionStorage.getItem("user")?a():a("/")}),new r.default({el:"#app",router:Y,components:{App:l},template:"<App/>"})},O122:function(e,t){},VLyU:function(e,t){},Wfnx:function(e,t){},YHOn:function(e,t){},dGPU:function(e,t,a){e.exports=a.p+"static/img/4.3457a0e.jpg"},g8HP:function(e,t){},gOZA:function(e,t){},h5Cy:function(e,t){},"i/H9":function(e,t,a){e.exports=a.p+"static/img/2.e1c80fe.jpg"},m4mq:function(e,t,a){e.exports=a.p+"static/img/3.e168c3d.jpg"},o0t0:function(e,t){},qSty:function(e,t){},tvR6:function(e,t){},u4L1:function(e,t){},uTcd:function(e,t){},yKUV:function(e,t){},zRwx:function(e,t,a){e.exports=a.p+"static/img/1.cee594b.jpg"}},["NHnr"]);
//# sourceMappingURL=app.d33d748ed50d102f14a4.js.map